---
layout: post
title: SQL3
excerpt: "CONSTRAINT, TRANSACTION, DICTIONARY, DDL, DCL"
categories: [SQL]
link:
comments: true
---
### SQL

###### 환경 설정 : 윈도우 / SQLdeveloper(from oracle);

* 흐름을 읽기 위한 단원 목차 훑기
8. CONSTRAINT
9. TRANSACTION CONTROL
10. DICTIONARY
11. DDL
12. DCL

<h3>CONSTRAINT</h3>

* Constratint :  데이터 무결성 유지를 위하여 사용자가 지정할 수 있는 성질. 즉 제약 조건이다.
* 모든 Constraint은 데이터 사전(Data Dictionary)에 저장.
* 이름 관련 권고 사항
  1. 의미 있는 이름이어야 참조가 쉬움
  2. 표준 객체 명명법을 따르길 권함
  3. 한 사용자 내에서 중복 불가
  4. 이름을 생략했다면 ORACLE은 SYS_Cn형식의 이름을 만듬.

~~~sql
//Constraint 정의 방법 두 가지
1. 컬럼 레벨 제약조건 - 어떤 유형의 제약조건도 정의 가능
컬럼[CONSTRAINT 제약조건 이름] 제한조건 유형

2. 테이블레벨 제약 조건 - 어떤 제약조건도 정의 가능.(NOT NULL제외)
컬럼 레벨 제약과 별개이며, 여러 컬럼에 제약조건을 정의할 때 사용.
컬럼,...
[CONSTRAINT 제약조건 이름] 제한조건 유형 (컬럼1, 컬럼2)
~~~


![Smithsonian Image](http://wiki.gurubee.net/download/attachments/27427401/S085.png)<br />

<h5>1.NOT NULL</h5>

* NULL값을 컬럼에 사용할 수 없게 한다.

<h5>2.UNIQUE</h5>

* 컬럼이나 컬럼의 조합을 고유 키로 지정한다.(한 컬럼은 NULL가능)
* 테이블 레벨이나 컬럼 레벨에서 정의 가능
* UNIQUE컬럼에 대한 인덱스 자동 생성

<h5>3.PRIMARY KEY</h5>

* 테이블에 단 하나의 Primary Key만 허용
* 여러 칼럼일지라도 NULL값을 허용하지 않음
* 테이블 레벨이나 컬럼 레벨에서 정의 가능
* UNIQUE인덱스 자동 생성

<h5>4.FOREIGN KEY</h5>

* FOREIGN KEY는 자식(child)테이블에 정의
* 부모(parent) 테이블의 값과 일치하거나 NULL이어야 한다.
* 테이블 레벨이나 컬럼 레벨에서 정의 가능
* FOREIGN KET 제약 조건을 줄 때 주의 사항
  * 참조하고자 하는 테이블이 먼저 생성되어 있어야 한다.
  * 참조하고자 하는 컬럼이 PRIMARY KEY 또는 UNIQUE 제약 조건이 있어야 한다.
  * 참고하고자 하는 칼럼의 데이터 타입이 일치해야 한다.
* ON DELETE CASCADE 옵션 : 참조하는(child) 테이블 쪽에 이 옵션을 주면 참조되는(parent) 테이블의 행을 삭제 가능하게 할 뿐만 아니라 참조하는 행들도 자동으로 삭제해주는 옵션

<h5>5.CHECK</h5>

* 각 행이 만족해야하는 조건을 정의
* CHECK 제약 조건에서 사용할 수 없는 것들
  * CURRVAL, NEXTVAL, LEVEL, ROWNUM에 대한 참조
  * SYSDATE, UID, USER, USERENV 함수에 대한 호출
  * 다른 행의 값을 참조
  * ORACLE server의 예약어는 쓸 수 없다
  * 컬럼이나 테이블 레벨에서 모두 정의할 수 있다.

<h5>참조 무결성 제약조건 오류의 발생</h5>

* 자식(child)테이블에 입력하려고 하는 값이 부모(Parent)테이블에 없는 경우
* 자식테이블에서 수정하려고 하는 값이 부모테이블에 없는 경우
* 부모테이블에서 삭제하려고 하는 값이 자식테이블에서 참조되는 경우
* 제약조건에 위배되는 데이터를 입력,수정,삭제하는 경우


<h3>TRANSACTION</h3>
