---
layout: post
title: HTTP를 통한 웹 동작 방식
excerpt: "웹에서 서버와 클라이언트는 어떻게 동작할까?"
tags: [Boostcourse]
categories: [Web]
link:
comments: true
pinned: true
image:
  feature:
---

## HTTP를 통한 웹 동작 방식

![](/Img/Web_1.png)

위의 그림은 실제 웹이 동작하는 방법을 나타낸 그림이다.

1. 반드시 클라이언트가 원하는 서버에 접속을 해야 한다.
2. 반드시 클라이언트가 접속한 서버에 요청(request)을 해야한다.
3. 요청을 받은 서버는 클라이언트에게 요청에 따른 응답 결과(response)를 전송한다.
4. 응답이 끝나면 서버와 클라이언트의 연결이 해제된다.

위의 2단계에서 클라이언트가 요청을 보낼 때, 아무렇게나 가는 것이 아니고 요청을 보내는 정해진 규칙이 있다. 이것을 요청 데이터 포맷(Request Data Format)이라고 한다. 웹 브라우저의 요청 메세지는 요청 헤더 부분, 빈 줄 부분, 요청 바디 부분의 세 가지고 나뉘게 된다.

- 요청 헤더 부분 주소 분석

  **<u>GET</u>**    **<u>/servlet/query?a=10&b=90</u>**    **<u>HTTP/1.1</u>**

  - GET : 요청 메서드 명시
  - /servlet/query?a=10&b=90 : 요청 URI. 요청하는 자원의 위치를 명시
  - HTTP/1.1 : HTTP 프로토콜의 버전. 즉, 웹 브라우저가 사용하는 프로토콜의 버전을 명시한다.

  Host: www.sk.com

  User-agent: mozilla/4.0

  Accept-language: kr

  두 번째 줄 부터는 여러 줄의 헤더 정보가 나온다. 각각의 줄은 헤더 명과 헤더 값이 콜론(:)으로 구분되어 있다. 각 줄은 라인 피드와 캐리지 리턴으로 구분이 된다. 

- 요청 바디 부분 분석

  - 요청 바디에 아무 것도 없다?
  - GET방식은 요청 시에 가지고 가야 할 자원을 모두 URI에 담아서 가져간다. 따라서 GET 방식은 요청 바디가 없다. 
  - 바디 요청은 POST나 PUT을 사용했을 때 들어오게 된다.



응답 데이터 포맷도 요청 데이터 포맷과 유사하게 응답 헤더 부분, 빈 줄 부분, 응답 바디 부분의 세 가지로 나뉜다.

- 응답 헤더 부분 분석

  **<u>HTTP/1.1</u>** **<u>200</u>** **<u>OK</u>**

  - HTTP/1.1 : 응답 HTTP 프로토콜의 버전 명시
  - 200 : 응답 코드
  - OK : 응답 메시지

  나머지 헤더 부분에는 날짜, 웹 서버 이름과 버전, 컨텐츠 타입, 캐시 제어방식, 컨텐츠 길이 등의 값이 나온다.

- 응답 바디 부분 분석

- 빈 줄 다음에 나오는 응답 바디 부분이 실제 응답 리소스 데이터가 나오는 부분이다.