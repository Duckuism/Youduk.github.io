<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-121414052-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-121414052-1');
</script>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>JSP와 Servlet</title>
  <meta name="description" content="">

  <!-- CSS files -->
  <link rel="stylesheet" href="http://localhost:4000/css/font-awesome.min.css">
  <link rel="stylesheet" href="http://localhost:4000/css/main.css">

  <link rel="canonical" href="http://localhost:4000/servlet/jsp/spring/2017/09/15/Servlet%E1%84%80%E1%85%AAJsp.html">
  <link rel="alternate" type="application/rss+xml" title="Ducku Salon" href="http://localhost:4000/feed.xml" />

  <!-- Icons -->
  <!-- 16x16 -->
  <link rel="shortcut icon" href="http://localhost:4000/favicon.ico">
  <!-- 32x32 -->
  <link rel="shortcut icon" href="http://localhost:4000/favicon.png">
</head>

<body>
  <script id="dsq-count-scr" src="//https-youduk-github-io.disqus.com/count.js" async></script>
  <div class="row">
    <div class="col s12 m12">
      <div class="table cover">
        
<div class="cover-card table-cell table-middle">
  
  <img src="http://localhost:4000/img/authorLogo.jpeg" alt="" class="avatar">
  
  <a href="http://localhost:4000/" class="author_name">Ducku Salon</a>
  <span class="author_job">portfolio & Tech blog</span>
  <span class="author_bio mbm">Dreams are not dreamt, they are commplished.</span>
  <nav class="nav">
    <ul class="nav-list">
      <li class="nav-item">
        <a href="http://localhost:4000/">home</a>
      </li>
       
      <li class="nav-item">
        <a href="http://localhost:4000/archive/">Archive</a>
      </li>
            
      <li class="nav-item">
        <a href="http://localhost:4000/categories/">Categories</a>
      </li>
          
      <li class="nav-item">
        <a href="http://localhost:4000/resume/">Resume</a>
      </li>
          
      <li class="nav-item">
        <a href="http://localhost:4000/tags/">Tags</a>
      </li>
                                                                           
    </ul>
  </nav>
  <script type="text/javascript">
  // based on https://stackoverflow.com/a/10300743/280842
  function gen_mail_to_link(hs, subject) {
    var lhs,rhs;
    var p = hs.split('@');
    lhs = p[0];
    rhs = p[1];
    document.write("<a class=\"social-link-item\" target=\"_blank\" href=\"mailto");
    document.write(":" + lhs + "@");
    document.write(rhs + "?subject=" + subject + "\"><i class=\"fa fa-fw fa-envelope\"></i><\/a>");
  }
</script>
<div class="social-links">
  <ul>
    
      <li>
      <script>gen_mail_to_link('rnejrl123456@gmail.com', 'Hello from website');</script>
      </li>
    
    
    <li><a href="https://facebook.com/originducku" class="social-link-item" target="_blank"><i class="fa fa-fw fa-facebook"></i></a></li>
    
    <li><a href="https://linkedin.com/in/youduk-han-2bbb94108" class="social-link-item" target="_blank"><i class="fa fa-fw fa-linkedin"></i></a></li>
    
    
    
    
    <li><a href="https://github.com/Youduk" class="social-link-item" target="_blank"><i class="fa fa-fw fa-github"></i></a></li>
    
    
    
    
    
    
    
    
    
    
    
    
    
  </ul>
</div>

</div>

      </div>
    </div>
    <div class="col s12 m12">
      <div class="post-listing">
        <div class="post-container">
<a class="btn" href= "http://localhost:4000/" >
  Home
</a>



<div id="post">
  <header class="post-header">
    <h1 title="JSP와 Servlet">JSP와 Servlet</h1>
    <span class="post-meta">
      <span class="post-date">
        15 SEP 2017
      </span>
      •
      <span class="read-time" title="Estimated read time">
  
  
    4 mins read
  
</span>

    </span>

  </header>

  <article class="post-content">
    <p>전체 프린트 다 감쌀 때 윈도우 알트 쉬프트 에이 컬럼 편집.
쉬프트 커멘드 엘 하면 단축키 목록</p>

<p>톰캣 실행 위치 Downloads/apache-tomcat-8.5.13/bin/startup.sh</p>

<h6 id="참고-영상--httpsolcosskrlecdetailjsplecid254">참고 영상 : https://olc.oss.kr/lec/detail.jsp?lecid=254</h6>
<h6 id="참고-자료--httpsgithubcomkeesunservlet2springtreemastersrcwhiteship">참고 자료 : https://github.com/keesun/servlet2spring/tree/master/src/whiteship</h6>

<h3>강의 주제 : 서블릿&amp;jsp 프로그래밍에서 spring MVC 프로그래밍으로의 변화 과정</h3>

<ul>
  <li>서블릿 등장 배경 : 웹페이지가 처음 나왔을 때는 정적인 html 페이지만 보여줄 수 있었다. 그래서 내용이 바뀌는 동적인 페이지들을 보여주고 싶었다.
    <ol>
      <li>첫번째 방법 - CGI(common gateway interface) : 단점이 요청 당 프로세스 방법이라 동시 접속자를 많이 유지 할 수 없었다.</li>
      <li>두번째 방법 - 서블릿 : CGI의 단점을 보완하기 위해 요청 당 쓰레드 방법으로 제공하기 시작했다. 프로세스가 사용하는 자원을 공유하는 많은 쓰레드(프로세스 안의 프로세스)를 만들어서 더 많은 동시 접속자를 유지하게 하는 방법이었다.</li>
    </ol>
  </li>
</ul>

<!-- servlet2springmvc 라는 클래스 생성

whiteship 이라는 패키지 생성

HelloServlet 이라는 서블릿 생성

command + option + s = generate override 단축키

이름을 받아서 hello랑 같이 출력하는 코드

이 서블릿을 쓰려면 web.xml에 등록을 해줘야 한다.


그러나 실제로 이렇게 화면을 구성하는 경우는 없다. html태그를 넣어줘야 한다.
이렇게 나오기는 하지만 서블릿으로 html 코딩을 하는 것이 굉장히 불편하다. -->

<p>서블릿의 사용 후기</p>
<ul>
  <li>자바 코딩은 편하다.</li>
  <li>화면(html)을 작성하는 코드를 맞추기 힘들다.</li>
  <li>매번 web.xml에 서블릿 맵핑 코드를 추가하는 것이 번거롭고 힘들다.
-&gt; 이것에 대한 보완으로 jsp가 등장했다.</li>
</ul>

<p>JSP의 사용 후기</p>
<ul>
  <li>화면(html)코드는 쉽게 작성할 수 있다.</li>
  <li>자바 코드를 사용하기 힘들다.
-&gt; jsp와 서블릿을 같이 사용해볼까?
-&gt; 화면코드는 jsp로, 자바 코드는 서블릿으로.</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre></td><td class="rouge-code"><pre>
<span class="err">서블릿</span> <span class="err">맵핑</span> <span class="err">퀴즈</span> <span class="o">:</span> <span class="o">/</span><span class="n">whiteship</span><span class="o">/</span><span class="n">book</span><span class="o">.</span><span class="na">do</span> <span class="err">를</span> <span class="err">입력했을</span> <span class="err">때</span> <span class="err">어느</span> <span class="err">서블릿에</span> <span class="err">맵핑될까</span><span class="o">?</span>

<span class="o">&lt;</span><span class="n">servlet</span><span class="o">-</span><span class="n">mapping</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">servlet</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;</span><span class="n">a</span><span class="o">&lt;/</span><span class="n">servlet</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">url</span><span class="o">-</span><span class="n">pattern</span><span class="o">&gt;*.</span><span class="na">do</span><span class="o">&lt;/</span><span class="n">url</span><span class="o">-</span><span class="n">pattern</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">servlet</span><span class="o">-</span><span class="n">mapping</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="n">servlet</span><span class="o">-</span><span class="n">mapping</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">servlet</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;</span><span class="n">b</span><span class="o">&lt;/</span><span class="n">servlet</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">url</span><span class="o">-</span><span class="n">pattern</span><span class="o">&gt;/</span><span class="n">whiteship</span><span class="o">/</span><span class="n">book</span><span class="o">&lt;/</span><span class="n">url</span><span class="o">-</span><span class="n">pattern</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">servlet</span><span class="o">-</span><span class="n">mapping</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="n">servlet</span><span class="o">-</span><span class="n">mapping</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">servlet</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;</span><span class="n">c</span><span class="o">&lt;/</span><span class="n">servlet</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">url</span><span class="o">-</span><span class="n">pattern</span><span class="o">&gt;/</span><span class="n">whiteship</span><span class="o">/*&lt;/</span><span class="n">url</span><span class="o">-</span><span class="n">pattern</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">servlet</span><span class="o">-</span><span class="n">mapping</span><span class="o">&gt;</span>

<span class="err">정답은</span> <span class="n">b</span><span class="o">.</span> <span class="o">(</span><span class="err">가장</span> <span class="err">긴</span> <span class="err">것이므로</span><span class="o">)</span>

</pre></td></tr></tbody></table></code></pre></div></div>

<p>서블렛 맵핑 규칙</p>
<ol>
  <li>요청 URL과 정확히 일치하는 서블릿 맵핑 사용</li>
  <li>디렉토리까지 일치하는 서블릿 맵핑 사용</li>
  <li>확장자가 일치하는 서블릿 맵핑 사용</li>
  <li>동일한 수준에서 대응하는 맵핑이 여러개라면 그 중에서 가장 긴 것을 사용</li>
</ol>

<p>hello.jsp 파일을  WEB-INF 안에 views 폴더를 만들어서 그 안으로 집어 넣는다. WEB-INF안에 파일은 브라우저에서 접근이 불가하다. 개발자만 접근할 수 있으므로 보안 측면에서 좋다.</p>

<p>servlet과 jsp를 합친 model2를 사용해보니</p>
<ul>
  <li>서블릿으로 자바 코딩하기 편하다.</li>
  <li>jsp로 화면을 작성하기 편하다.</li>
  <li>이 모습이 MVC와 비슷하다.
Model(지금은 없지만 보통은 javaBeans로 모델을 만들고)
View(JSP가 담당)
Controller(servlet이 담당)</li>
</ul>

<p><img src="/img/2017-09-15-01.png" alt="Smithsonian Image" /><br /></p>

<p>model2로 만족할 수 있는가?</p>

<ul>
  <li>서블릿을 실행하기 전/후에 부가적인 작업을 추가하고 싶다.</li>
  <li>컨트롤러 하나로 모든 요청을 처리할 수 없을까?</li>
  <li>요청 처리가 끝나고 보여줄 뷰를 좀 더 편하게 제공할 수는 없을까?
-&gt; J2EE 패턴을 보자!</li>
</ul>

<p>J2EE 패턴</p>

<ol>
  <li>J2EE - decorating pattern : 전/후 처리기가 필요할 때, 기존 코드를 수정하지 않고 부가 기능을 추가할 수 있다.</li>
</ol>

<p><img src="/img/2017-09-15-02.png" alt="Smithsonian Image" /><br /></p>

<p>servlet필터를 사용해보니</p>
<ul>
  <li>서블릿 코드를 수정하지 않고 부가기능을 추가할 수 있어 좋다. (기존의 서블릿 코드는 두고 필터를 정의할 때 원하는 기능 추가)</li>
  <li>하나의 필터(TimerFilter)로 여러 서블릿/URL(예제에서는 url패턴으로 적용)에 부가 기능을 추가할 수 있어 좋다.</li>
  <li>web.xml에 매번 설정하는 것이 번거롭다. (어쨌든 필터 정의, 맵핑을 해줘야 한다.)</li>
  <li>init()과 destroy()도 매번 구현해야하는 것이 번거롭다. (만약 예제와 같은 간단한 예제가 아니라면 이 두가지도 구현해줘야 한다.)</li>
</ul>

<p>servlet필터 적용 규칙(우선 순위)
컴파일러가 web.xml에서 <file-mapping>을 보고..</file-mapping></p>
<ol>
  <li>
    <url-pattern>에 대응하는 것을 web.xml에 정의된 순서대로 적용
</url-pattern>
  </li>
  <li>
    <servlet-name>에 대응하는 것을 추가로 적용

</servlet-name>
  </li>
</ol>
<p>servlet필터는 언제 사용할 수 있을까?</p>
<ul>
  <li>request 필터링 : 보안 관련 내용 체크, 요청 헤더와 바디 포맷팅 수정, 요청 감시 또는 기록</li>
  <li>response 필터링 : 응답스트림압축, 응답스트림에 내용 추가 또는 수정, 전혀 다른 응답으로 교체</li>
</ul>

<ol>
  <li>J2EE - Front Controller 패턴 : 컨트롤러 하나로 모든 요청을 처리하고 싶을 때, 일관된 뷰 관리, 네비게이션, 요청 처리 기능을 한 곳으로 모을 수 있다. 즉, 1번처럼 여러개 의 서블릿을 등록하는 것이 아니라 서블릿은 하나만 등록하고, 자기가 실행하고 싶은 기능들로 요청이 들어왔을 때 맵핑을 해주고 실행한 후, 실행이 끝나면 찾아갈 뷰까지 찾아줄 수 있는 패턴(dispatcher view 패턴 역할까지 같이 할 수 있는 - front controller 패턴 안에 dispatcher기능을 넣으면 dispatcher를 사용할 필요가 없다.)</li>
</ol>

<p><img src="/img/2017-09-15-03.png" alt="Smithsonian Image" /><br /></p>

<ol>
  <li>J2EE - Dispatcher View 패턴 : Front Controller 패턴에서 View를 찾아오는 기능을 dispatcher에 위임하는 패턴</li>
</ol>

<p><img src="/img/2017-09-15-04.png" alt="Smithsonian Image" /><br /></p>

<p>*WhiteshipServlet 만들어보기.</p>

<p><img src="/img/2017-09-15-05.png" alt="Smithsonian Image" /><br /></p>

<p>WhiteshipServlet의 부족한 점</p>
<ul>
  <li>핸들러 맵핑 로직을 변경할 수 없다.</li>
  <li>핸들러를 여러 형태로 만들 수 없다.</li>
  <li>예외 처리 로직을 제공하지 않는다.</li>
  <li>뷰를 찾는 로직을 변경할 수 없다.
-&gt; 스프링 mvc를 사용하는게 났겠다.</li>
</ul>

<p>Spring = 현존하는 가장 유연한 MVC프레임 워크</p>
<ul>
  <li>핸들러 맵핑 로직을 변경할 수 있다.</li>
  <li>핸들러를 여러 형태로 만들 수 있다.</li>
  <li>다양한 예외 처리 로직을 제공한다.</li>
  <li>뷰를 찾는 로직을 변경할 수 있다.</li>
</ul>

<p><img src="/img/2017-09-15-06.png" alt="Smithsonian Image" /><br /></p>

  </article>
</div>

<!-- <div class="share-buttons">
  <h6>Share on: </h6>
  <ul>
    <li>
      <a href="https://twitter.com/intent/tweet?text=http://localhost:4000/servlet/jsp/spring/2017/09/15/Servlet%E1%84%80%E1%85%AAJsp.html" class="twitter btn" title="Share on Twitter"><i class="fa fa-twitter"></i><span> Twitter</span></a>
    </li>
    <li>
      <a href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:4000/servlet/jsp/spring/2017/09/15/Servlet%E1%84%80%E1%85%AAJsp.html" class="facebook btn" title="Share on Facebook"><i class="fa fa-facebook"></i><span> Facebook</span></a>
    </li>
    <li>
      <a href="https://plus.google.com/share?url=http://localhost:4000/servlet/jsp/spring/2017/09/15/Servlet%E1%84%80%E1%85%AAJsp.html" class="google-plus btn" title="Share on Google Plus"><i class="fa fa-google-plus"></i><span> Google+</span></a>
    </li>
    <li>
      <a href="https://news.ycombinator.com/submitlink?u=http://localhost:4000/servlet/jsp/spring/2017/09/15/Servlet%E1%84%80%E1%85%AAJsp.html" class="hacker-news btn" title="Share on Hacker News"><i class="fa fa-hacker-news"></i><span> Hacker News</span></a>
    </li>
    <li>
      <a href="https://www.reddit.com/submit?url=http://localhost:4000/servlet/jsp/spring/2017/09/15/Servlet%E1%84%80%E1%85%AAJsp.html" class="reddit btn" title="Share on Reddit"><i class="fa fa-reddit"></i><span> Reddit</span></a>
    </li>
  </ul>
</div> -->


<div id="disqus_thread"></div>
</div>
<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://https-youduk-github-io.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>


        <footer>
  &copy; 2018 Ducku Salon. Powered by <a href="https://jekyllrb.com/">Jekyll</a>, <a href="https://github.com/renyuanz/leonids/">customized with leonids theme</a> <i class="fa fa-heart heart-icon"></i>
</footer>

<!-- Channel Plugin Scripts -->
<script>
  ;window.channelPluginSettings = {
    "pluginKey": "9de17a11-abe2-455f-a49c-1c7da4fa312c"
  };
  (function() {
    var w = window;
    if (w.ChannelIO) {
      return (window.console.error || window.console.log || function(){})('ChannelIO script included twice.');
    }
    var d = window.document;
    var ch = function() {
      ch.c(arguments);
    };
    ch.q = [];
    ch.c = function(args) {
      ch.q.push(args);
    };
    w.ChannelIO = ch;
    function l() {
      if (w.ChannelIOInitialized) {
        return;
      }
      w.ChannelIOInitialized = true;
      var s = document.createElement('script');
      s.type = 'text/javascript';
      s.async = true;
      s.src = 'https://cdn.channel.io/plugin/ch-plugin-web.js';
      s.charset = 'UTF-8';
      var x = document.getElementsByTagName('script')[0];
      x.parentNode.insertBefore(s, x);
    }
    if (document.readyState === 'complete') {
      l();
    } else if (window.attachEvent) {
      window.attachEvent('onload', l);
    } else {
      window.addEventListener('DOMContentLoaded', l, false);
      window.addEventListener('load', l, false);
    }
  })();
</script>
<!-- End Channel Plugin -->        
      </div>
    </div>
  </div>
  <script id="dsq-count-scr" src="//https-youduk-github-io.disqus.com/count.js" async></script>
  <script type="text/javascript" src="http://localhost:4000/js/jquery-2.1.4.min.js"></script>
<script type="text/javascript" src="http://localhost:4000/js/main.js"></script>


    
</body>

</html>
