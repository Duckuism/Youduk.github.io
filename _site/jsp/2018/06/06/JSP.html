<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-121414052-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-121414052-1');
</script>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>JSP</title>
  <meta name="description" content="JSP의 개념, 라이프 사이클, 문법, 내장 객체">

  <!-- CSS files -->
  <link rel="stylesheet" href="http://localhost:4000/css/font-awesome.min.css">
  <link rel="stylesheet" href="http://localhost:4000/css/main.css">

  <link rel="canonical" href="http://localhost:4000/jsp/2018/06/06/JSP.html">
  <link rel="alternate" type="application/rss+xml" title="Ducku Salon" href="http://localhost:4000/feed.xml" />

  <!-- Icons -->
  <!-- 16x16 -->
  <link rel="shortcut icon" href="http://localhost:4000/favicon.ico">
  <!-- 32x32 -->
  <link rel="shortcut icon" href="http://localhost:4000/favicon.png">
</head>

<body>
  <script id="dsq-count-scr" src="//https-youduk-github-io.disqus.com/count.js" async></script>
  <div class="row">
    <div class="col s12 m12">
      <div class="table cover">
        
<div class="cover-card table-cell table-middle">
  
  <img src="http://localhost:4000/img/authorLogo.jpeg" alt="" class="avatar">
  
  <a href="http://localhost:4000/" class="author_name">Ducku Salon</a>
  <span class="author_job">portfolio & Tech blog</span>
  <span class="author_bio mbm">Dreams are not dreamt, they are commplished.</span>
  <nav class="nav">
    <ul class="nav-list">
      <li class="nav-item">
        <a href="http://localhost:4000/">home</a>
      </li>
       
      <li class="nav-item">
        <a href="http://localhost:4000/archive/">Archive</a>
      </li>
            
      <li class="nav-item">
        <a href="http://localhost:4000/categories/">Categories</a>
      </li>
          
      <li class="nav-item">
        <a href="http://localhost:4000/resume/">Resume</a>
      </li>
          
      <li class="nav-item">
        <a href="http://localhost:4000/tags/">Tags</a>
      </li>
                                                                           
    </ul>
  </nav>
  <script type="text/javascript">
  // based on https://stackoverflow.com/a/10300743/280842
  function gen_mail_to_link(hs, subject) {
    var lhs,rhs;
    var p = hs.split('@');
    lhs = p[0];
    rhs = p[1];
    document.write("<a class=\"social-link-item\" target=\"_blank\" href=\"mailto");
    document.write(":" + lhs + "@");
    document.write(rhs + "?subject=" + subject + "\"><i class=\"fa fa-fw fa-envelope\"></i><\/a>");
  }
</script>
<div class="social-links">
  <ul>
    
      <li>
      <script>gen_mail_to_link('rnejrl123456@gmail.com', 'Hello from website');</script>
      </li>
    
    
    <li><a href="https://facebook.com/originducku" class="social-link-item" target="_blank"><i class="fa fa-fw fa-facebook"></i></a></li>
    
    <li><a href="https://linkedin.com/in/youduk-han-2bbb94108" class="social-link-item" target="_blank"><i class="fa fa-fw fa-linkedin"></i></a></li>
    
    
    
    
    <li><a href="https://github.com/Youduk" class="social-link-item" target="_blank"><i class="fa fa-fw fa-github"></i></a></li>
    
    
    
    
    
    
    
    
    
    
    
    
    
  </ul>
</div>

</div>

      </div>
    </div>
    <div class="col s12 m12">
      <div class="post-listing">
        <div class="post-container">
<a class="btn" href= "http://localhost:4000/" >
  Home
</a>

<div class="post-image-feature">
  <img class="feature-image" src=
  
  "http://localhost:4000/img/Boostcourse.png"
  
  alt="JSP feature image">

  
</div><!-- /.image-wrap -->



<div id="post">
  <header class="post-header">
    <h1 title="JSP">JSP</h1>
    <span class="post-meta">
      <span class="post-date">
        6 JUN 2018
      </span>
      •
      <span class="read-time" title="Estimated read time">
  
  
    9 mins read
  
</span>

    </span>

  </header>

  <article class="post-content">
    <p>이 강의는 connect 재단의 boostcourse 강의를 공부 목적으로 정리한 것입니다.</p>

<h2 id="jspjava-server-page">JSP(Java Server Page)</h2>

<p>JSP는 WebContent 아래에 위치한다. HTML, CSS, JS 모두 이 폴더 안에 위치한다. 이 위치에서 각각의 폴더를 만들어서 리소스를 위치시키는 것이 관리에 용이하다.</p>

<p>JSP를 만들면 첫 구조가 html과 굉장히 유사한 것을 볼 수 있다. 다른 것이 있다면, 맨 윗줄!</p>

<pre><code class="language-jsp">&lt;%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%&gt;
</code></pre>

<p>JSP는 약속된 몇 가지 기호를 가지고 있다. 이 기호가 무엇이냐에 따라서 JSP가 servlet으로 바뀔 때 바꿔야 할 부분을 결정한다고 보면 된다. JSP는 JSP자체로 동작하는 것이 아니라 모든 JSP는 servlet으로 바뀌어서 동작한다.</p>

<p><code class="highlighter-rouge">&lt;%@</code> : 지시자라고 부른다</p>

<p><code class="highlighter-rouge">page</code> : page 지시자</p>

<p>즉, <code class="highlighter-rouge">&lt;%</code> 부터 <code class="highlighter-rouge">%&gt;</code> 까지 한 문장이라고 생각하면 된다.</p>

<p>내용을 살펴보면,</p>

<p><code class="highlighter-rouge">language="java"</code> : JSP 안에서 Java로 작성된 코드가 나올 것이라고 생각하면 된다. 이론적으로는 JSP가 Java외에 다른 언어들로도 사용할 수 있다고 한다. 그러나 다른 언어는 쓰이지 않는다.</p>

<p><code class="highlighter-rouge">contentType="text/html; charset=UTF-8"</code> : Servlet에서도 나왔던 부분이다. Servlet을 작성할 때 응답결과를 포함할 수 있는 것이 Response객체였고, 이 응답 결과를 작성할 때 항상 printWriter 객체를 얻어 온 후 contentType을 넣어줬었다. 따라서 JSP에서도 이 부분이 필요한데, JSP 파일이 Servlet으로 바뀔 때 이 부분이 Servlet에서 우리가 직접 작성했던 부분으로 바뀐다. 지금의 JSP로 출력되는 결과를 받는 브라우저에게 ‘‘지금 출력되는 결과는 UTF-8이라는 문자셋으로 된 HTML 문서다.”라고 알려준다고 생각하면 된다.</p>

<p><code class="highlighter-rouge">pageEncoding="UTF-8"</code> : 이 JSP 파일 자체가 UTF-8로 되어있다는 것을 알려준다.</p>

<p>위의 지시들을 듣는 것은 JSP를 실행하는 WAS라고 생각을 하면 된다.</p>

<p>지시문 다음에는 HTML 코드가 나온다.</p>

<p>그러나 JSP를 쓰는 이유는 HTML 안에서 프로그램을 실행시키고 싶은 것이다. HTML 코드 안에서 Java 코드를 입력하고 실행시킬 수 있다.</p>

<p><code class="highlighter-rouge">&lt;%</code> : scriptlet이라고 부르며, 자바코드를 입력할 수 있게 해주는 태그이다. 이 안에는 Java 코드를 입력할 수 있다.</p>

<p>Servlet에서 Java 코드를 막 실행시킨다고 해도, response 객체의 out.println에 넣어주지 않으면 실제 응답 결과에는 반영되지 않았었다. 이처럼 JSP에서도 scriptlet안의 Java 코드에서 얻어낸 값(변수)을 사용자 브라우저에 응답 결과로 주고 싶은 경우에는 <code class="highlighter-rouge">&lt;%=</code> 을 사용하여 넘겨줘야한다.</p>

<p><code class="highlighter-rouge">&lt;%=</code> : 표현식이라고 부르며 반드시 이 태그를 통해 scriptlet안의 코드 내용을 응답 결과로 브라우저에 전송할 수 있다.</p>

<pre><code class="language-jsp">&lt;%= total %&gt; &lt;!-- servlet에서 out.print(total); 로 바뀐다 --&gt;
</code></pre>

<p>JSP를 작성하면서 생각해봐야할 부분은 이 JSP가 Servlet으로 어떻게 바뀔까? 를 생각하면 된다.</p>

<p>Servlet으로 바뀐 후에는 Servlet의 라이프 사이클과 똑같은 방식으로 실행이 되는 것이다.</p>

<p><strong>JSP 등장 배경</strong></p>

<ul>
  <li>마이크로소프트에서 ASP(Active Server Page)라는 쉽게 웹을 개발할 수 있는 스크립트(script) 엔진을 발표함 (1998년)</li>
  <li>1997년에 발표된 서블릿은 ASP에 비하여 상대적으로 개발 방식이 불편함. 서블릿 안에 HTML 코드를 모두 문자열로 입력해야 하므로.</li>
  <li>ASP에 대항하기 위하여 1999년 썬마이크로시스템즈에서 JSP를 발표</li>
  <li>JSP는 실제로 서블릿 기술을 사용</li>
</ul>

<h2 id="jsp-lifecycle">JSP Lifecycle</h2>

<p>지난 시간에 만들었던 jsp는</p>

<p>eclipse-workspace/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/wtpwebapps/firstweb/sum10.jsp</p>

<p>에 저장되어 있다.</p>

<p>그렇다면 이 JSP가 바뀐 Servlet는 어디에 저장되어 있을까?</p>

<p>eclipse-workspace/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/work/Catalina/localhost/firstweb/org/apache/jsp 폴더 안에</p>

<p>sum10.jsp 가 sum10_jsp.class 와 sum10_jsp.java 파일로 변환되어 들어있다. sum10_jsp.java 파일을 열어보면 Servlet 생명주기에서 배웠던 init(), destroy(), service() 메서드가 똑같이 있는 것을 확인할 수 있다. 우리가 JSP에서 만든 코드들은 기본적으로 service() 메서드 안에 만들어진다. JSP가 Servlet으로 변환될 때 알아서 만들어 놓는 객체들도 존재하는 데, 이것을 <strong>내장객체</strong>라고 한다. 이 부분은 뒤에서 다시 다룬다.</p>

<p>Service안에 out.write() 메서드 부분을 보면 JSP 안의 코드가 문자열로 변경되어서 들어가 있는 것을 볼 수 있다.</p>

<h4 id="sum10jsp가-실행될-때-벌어지는-일">sum10.jsp가 실행될 때 벌어지는 일</h4>

<ul>
  <li>이클립스 워크스페이스 아래의 .metadata 폴더에 sum10_jsp.java 파일이 생성된다.</li>
  <li>해당 파일의 _jspService() 메서드 안을 살펴 보면 jsp파일의 내용이 변환되서 들어가 있는 것을 확인할 수 있다.</li>
  <li>sum10_jsp.java는 서블릿 소스로 자동으로 컴파일 되면서 실행되서 그 결과가 브라우저에 보여진다.</li>
</ul>

<h4 id="jsp의-실행순서"><strong>JSP의 실행순서</strong></h4>

<ol>
  <li>브라우저가 웹서버에 JSP에 대한 요청 정보를 전달한다.</li>
  <li>브라우저가 요청한 <strong>JSP가 최초로 요청했을 경우만</strong> JSP로 작성된 코드가 서블릿으로 코드로 변환한다. (java 피일 생성)</li>
  <li>서블릿 코드를 컴파일해서 실행가능한 bytecode로 변환한다. (class 파일 생성)</li>
  <li>서블릿 클래스를 로딩하고 인스턴스를 생성한다.</li>
  <li>서블릿이 실행되어 요청을 처리하고 응답 정보를 생성한다.</li>
</ol>

<p>JSP 엔진이 위의 2~4번을 처리한다.</p>

<p>JSP로 요청이 들어오면 서버는 이 JSP에 해당하는 Servlet이 존재하는지를 먼저 체크하고, 존재한다면 Servlet 엔진이 요청을 받아서 Servlet Lifecycle대로 실행을 하게 될 것이고 존재하지 않는다면 JSP 엔진이 이 요청을 받아서 알맞은 Servlet으로 컴파일하고 이 Servlet 객체를 생성할 것이다.</p>

<h4 id="jsp-lifecycle-실습">JSP Lifecycle 실습</h4>

<ul>
  <li>JSP Lifecycle을 확인할 lifecycle.jsp를 작성한 후 다음의 경우 어떤 결과가 나오는지 확인한다.
    <ul>
      <li>브라우저로 최초 요청했을 때</li>
      <li>브라우저로 두번째 요청했을 때</li>
      <li>lifecycle.jsp를 수정한 후 요청했을 때</li>
    </ul>
  </li>
</ul>

<pre><code class="language-jsp">&lt;%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%&gt;
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "https://www.w3.org/TR/html4/loose.dtd"&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8"&gt;
&lt;title&gt;Insert title here&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
hello~~
&lt;%
	System.out.println("jspService()");
%&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>

<h5 id="outprintln과-systemoutprintln의-차이는">out.println과 System.out.println의 차이는?</h5>

<p>목적지가 다르다. response에서 받아온 out은 응답결과의 out이고 앞에 System.out은 console을 의미한다. 어디에 출력하는 지에 다른 것.</p>

<p><img src="/img/JSP_3.png" alt="" /></p>

<p>JSP에서 scriptlet에 썼던 코드들은  Servlet의 service() 메서드 안에 추가된다. 그 이유는 응답에 포함되는 메서드가 service() 밖에 없으므로 매번 호출되는 메서드는 service() 이기 때문이다.</p>

<h5 id="그렇다면-jsp에서는-service에서-밖에-못쓰는-건가-그렇지-않다-jsp에서도-servlet의-init-destroy-service와-같이-동작하게-할-수-있다">그렇다면 JSP에서는 service()에서 밖에 못쓰는 건가? 그렇지 않다. JSP에서도 Servlet의 init(), destroy(), service()와 같이 동작하게 할 수 있다.</h5>

<p><code class="highlighter-rouge">&lt;%!</code> : 선언식이라고 부르고 이 안에 나오는 것들은 이 클래스에 메서드나 필드를 선언할 때 넣어주면 service() 메서드 안이 아니라 바깥 쪽에 코드들이 만들어지게 할 수 있다.</p>

<pre><code class="language-jsp">&lt;%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%&gt;
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "https://www.w3.org/TR/html4/loose.dtd"&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8"&gt;
&lt;title&gt;Insert title here&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
hello~~
&lt;%
	System.out.println("jspService()");
%&gt;

&lt;%!
	public void jspInit(){
		System.out.println("jspInit()");  	
	}
%&gt;

&lt;%!
	public void jspDestroy(){
  		System.out.println("jspDestroy()");
	}
%&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>

<p><img src="/img/JSP_1.png" alt="" /></p>

<p>기존에 service만 호출되던 것과 달리 init()과 service()가 호출되는 것을 볼 수 있다.</p>

<p>만약 JSP의 내용을 조금 바꾸고 다시 Run on server를 누르면?</p>

<pre><code class="language-jsp">&lt;%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%&gt;
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "https://www.w3.org/TR/html4/loose.dtd"&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8"&gt;
&lt;title&gt;Insert title here&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
hello~~
&lt;%
	System.out.println("jspService()");
%&gt;

&lt;%!
	public void jspInit(){
		System.out.println("jspInit()");  	
	}
%&gt;
!!!&lt;!-- 이 부분을 추가--&gt;
&lt;%!
	public void jspDestroy(){
  		System.out.println("jspDestroy()");
	}
%&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>

<p><img src="/img/JSP_2.png" alt="" /></p>

<p>위와 같이 destroy() 메서드가 호출되어 기존의 메모리에 올라가 있던 Servlet 객체를 파괴하고 수정된 JSP를 통해 새로운 Servlet 객체를 생성한다.</p>

<p><img src="/img/JSP_4.png" alt="" /></p>

<p>eclipse-workspace/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/work/Catalina/localhost/firstweb/org/apache/jsp 폴더 안에서 lifecycle.jsp를 누르면 위와 같이 init(), destroy() 메서드가 service() 메서드 바깥에 생성되어 있는 것을 볼 수 있다.</p>

<p>참고 자료 :</p>

<p><a href="https://beginnersbook.com/2013/05/jsp-tutorial-life-cycle/"><strong>[참고링크] Java Server Pages (JSP) Life Cycle</strong></a></p>

<p><a href="https://www.studytonight.com/jsp/lifecycle-of-jsp.php"><strong>[참고링크] Lifecycle of JSP</strong></a></p>

<h2 id="jsp-syntax">JSP Syntax</h2>

<h3 id="스크립트-요소의-이해"><strong>스크립트 요소의 이해</strong></h3>

<ul>
  <li>JSP 페이지에서는 선언문(Declaration), 스크립트릿(Scriptlet), 표현식(Expression) 이라는 3가지의 스크립트 요소를 제공
    <ul>
      <li>선언문(Declaration) - <code class="highlighter-rouge">&lt;%! %&gt;</code> : 전역 변수 선언 및 메서드 선언에 사용</li>
      <li>스크립트릿(Scriptlet) - <code class="highlighter-rouge">&lt;% %&gt;</code> : 프로그래밍 코드 기술에 사용</li>
      <li>표현식(Expression) - <code class="highlighter-rouge">&lt;%= %&gt;</code> : 화면에 출력할 내용 기술에 사용</li>
    </ul>
  </li>
</ul>

<p><strong>선언문</strong></p>

<ul>
  <li>선언문 : &lt;%! %&gt;</li>
  <li>선언문은 JSP 페이지 내에서 필요한 멤버변수나 메소드가 필요할 때 선언해 사용하는 요소.</li>
  <li>선언문의 문법</li>
  <li>&lt;%! 문장 %&gt;</li>
</ul>

<p>WebContent/exam1.jsp</p>

<pre><code class="language-jsp">&lt;%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%&gt;
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "https://www.w3.org/TR/html4/loose.dtd"&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8"&gt;
&lt;title&gt;Insert title here&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;

id : &lt;%=getId() %&gt;
&lt;/body&gt;
&lt;/html&gt;

&lt;%!
    String id = "u001"; //멤버변수 선언
    public String getId( ) { //메소드 선언
        return id;
    }
%&gt;

</code></pre>

<p>실제 JSP 파일 내에 선언문이 어디에 위치하는 지는 사실상 중요하지 않다.</p>

<p><strong>스크립트릿</strong></p>

<ul>
  <li>스크립트릿 : &lt;% %&gt;</li>
  <li>가장 일반적으로 많이 쓰이는 스크립트 요소</li>
  <li>주로 프로그래밍의 로직을 기술할 때 사용</li>
  <li>스크립트릿에서 선언된 변수는 지역변수. 선언문과 달리 스크립트릿 안에 선언되는 것들은 service()안에 선언되는 변수들이다.</li>
  <li>스크립트릿의 문법</li>
  <li>&lt;% 문장%&gt;</li>
</ul>

<p>WebContent/exam2.jsp</p>

<pre><code class="language-jsp">&lt;%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%&gt;
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "https://www.w3.org/TR/html4/loose.dtd"&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8"&gt;
&lt;title&gt;Insert title here&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;%
for(int i = 1; i &lt;= 5; i++){
%&gt;
&lt;H&lt;%=i %&gt;&gt; 아름다운 한글 &lt;/H&lt;%=i %&gt;&gt;
&lt;%
}
%&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>

<p>위의 코드처럼 스크립트릿을 끊어서 사용하면 중간에 있는 부분이 반복된다.</p>

<p><img src="/img/JSP_5.png" alt="" /></p>

<p>우클릭을 해서 페이지 소스 보기를 누르면,</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre></td><td class="rouge-code"><pre><span class="cp">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "https://www.w3.org/TR/html4/loose.dtd"&gt;</span>
<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
<span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">"Content-Type"</span> <span class="na">content=</span><span class="s">"text/html; charset=UTF-8"</span><span class="nt">&gt;</span>
<span class="nt">&lt;title&gt;</span>Insert title here<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>


<span class="nt">&lt;H1&gt;</span> 아름다운 한글 <span class="nt">&lt;/H1&gt;</span>

<span class="nt">&lt;H2&gt;</span> 아름다운 한글 <span class="nt">&lt;/H2&gt;</span>

<span class="nt">&lt;H3&gt;</span> 아름다운 한글 <span class="nt">&lt;/H3&gt;</span>

<span class="nt">&lt;H4&gt;</span> 아름다운 한글 <span class="nt">&lt;/H4&gt;</span>

<span class="nt">&lt;H5&gt;</span> 아름다운 한글 <span class="nt">&lt;/H5&gt;</span>

<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>위와 같이 나온다.</p>

<p>그렇다면 JSP가 변환된 Servlet의 어떤 부분이 이런 결과를 만들어 냈을까?</p>

<p>eclipse-workspace/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/work/Catalina/localhost/firstweb/org/apache/jsp 폴더 안에서 exam2_jsp.java를 열면</p>

<p>_jspService() 메서드 안에 아래와 같이 되어있는 것을 볼 수 있다.</p>

<p><img src="/img/JSP_6.png" alt="" /></p>

<p>JSP의 스크립트릿에서 변환된 Servlet의 부분이 출력된 html 코드를 만들었다.</p>

<p><strong>표현식(Expression)</strong></p>

<ul>
  <li>표현식 : &lt;%=%&gt;</li>
  <li>JSP 페이지에서 웹 브라우저에 출력할 부분을 표현 (즉, 화면에 출력하기 위한 것)</li>
  <li>스크립트릿내에서 출력할 부분은 내장객체인 out 객체의 print() 또는 println() 메소드를 사용해서 출력</li>
  <li>표현식의 문법
    <ul>
      <li>&lt;%=문장%&gt;</li>
    </ul>
  </li>
</ul>

<h3 id="주석comment"><strong>주석(Comment)</strong></h3>

<ul>
  <li>JSP페이지에서 사용할 수 있는 주석</li>
  <li>HTML주석, 자바주석, JSP주석</li>
</ul>

<ol>
  <li>HTML 주석</li>
</ol>

<ul>
  <li>HTML 주석은 <!--로 시작해서 -->로 끝나는 형태</li>
  <li>HTML 주석은 HTML주석을 사용한 페이지를 웹에서 서비스할 때 화면에 주석이 내용이 표시되지는 않으나 , [소스보기]수행하면 HTML주석의 내용이 화면에 표시.</li>
  <li>HTML주석의 예시</li>
</ul>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c">&lt;!-- html 주석입니다. --&gt;</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<ol>
  <li>JSP주석</li>
</ol>

<ul>
  <li>JSP 페이지에서만 사용되며 &lt;%–로 시작해서 –%&gt;로 끝나는 형태</li>
  <li>JSP 주석은 해당 페이지를, 웹 브라우저를 통해 출력 결과로서 표시하거나, 웹 브라우저 상에서 소스 보기를 해도 표시 되지 않음. 또한 JSP주석 내에 실행코드를 넣어도 그 코드는 실행되지 않음.</li>
  <li>JSP주석의 예시</li>
</ul>

<pre><code class="language-jsp">&lt;%-- JSP 주석입니다. --%&gt;
</code></pre>

<ol>
  <li>자바주석</li>
</ol>

<ul>
  <li>자바 주석은 //, /**/을 사용해서 작성.</li>
  <li>//은 한 줄짜리 주석을 작성할 때 사용되고, /**/은 여러 줄의 주석을 작성할 때 사용</li>
  <li>스크립트릿이나 선언문에서 사용되는 주석으로, 자바와 주석 처리 방법이 같음</li>
  <li>JSP가 Java로 바뀔 때 같이 바뀌지만, Java가 Servlet으로 실행할 때는 주석이므로 실행되지 않는다.</li>
  <li>자바주석의 예시</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="c1">//주석</span>

<span class="cm">/*주석

여러 줄에 걸친 주석이다.

*/</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<ul>
  <li>
    <p><a href="https://www.w3processing.com/index.php?subMenuLoad=JSP/DeclarationScripting.php"><strong>[참고링크] JSP Declaration Scripting Element</strong></a></p>
  </li>
  <li>
    <p><a href="https://www.w3processing.com/index.php?subMenuLoad=JSP/Elements/Scripting/ScriptletScripting.php&amp;environmentPath=NB/GF"><strong>[참고링크] JSP Scriptlet Scripting Element</strong></a></p>
  </li>
  <li>
    <p><a href="https://www.w3processing.com/index.php?subMenuLoad=JSP/Elements/Scripting/ExpressionScripting.php&amp;environmentPath=NB/GF"><strong>[참고링크] JSP Expression Scripting Element</strong></a></p>
  </li>
</ul>

<h2 id="jsp-내장객체implicit-objects">JSP 내장객체(Implicit Objects)</h2>

<h4 id="jsp-내장-객체란"><strong>JSP 내장 객체란?</strong></h4>

<ul>
  <li>JSP를 실행하면 서블릿 소스가 생성되고 실행된다.</li>
  <li>JSP에 입력한 대부분의 코드는 생성되는 서블릿 소스의 _jspService() 메소드 안에 삽입되는 코드로 생성된다.</li>
  <li>_jspService()에 <strong>삽입된 코드의 윗부분에 미리 선언된 객체들</strong>이 있는데, 해당 객체들은 jsp에서도 사용 가능하다.</li>
  <li>이렇게 미리 선언되어 사용할 수 있는 response, request, application, session, out과 같은 변수를 <strong>내장객체</strong>라고 한다.</li>
</ul>

<p>eclipse-workspace/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/work/Catalina/localhost/firstweb/org/apache/jsp 폴더 안에서 Jsp가 컴파일된 Servlet(.java 파일)을 열어보면</p>

<p>아래와 같이 내장객체를 먼저 선언한다.</p>

<p><img src="/img/JSP_8.png" alt="" /></p>

<p>그리고 아래와 같이 내장객체를 초기화하여 생성하고 있는 것을 볼 수 있다.</p>

<p><img src="/img/JSP_9.png" alt="" /></p>

<h4 id="내장-객체의-종류">내장 객체의 종류</h4>

<p><img src="/img/JSP_7.png" alt="" /></p>

<h4 id="내장-객체-사용-실습">내장 객체 사용 실습</h4>

<pre><code class="language-jsp">&lt;%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%&gt;
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "https://www.w3.org/TR/html4/loose.dtd"&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8"&gt;
&lt;title&gt;Insert title here&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;%
		StringBuffer url = request.getRequestURL();
    
    	out.print("url : " + url.toString());
		out.print("&lt;br&gt;");
%&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>

<p>위의 코드를 잘 살펴보면  scriptlet에서 이상한 점을 발견할 수 있다.</p>

<p>자바는 모든 변수가 선언이 되어야 쓸 수 있는데, request과 out이라는 객체는 선언한 적이 없는데도 불구하고 오류를 발생시키지 않는다.</p>

<p>JSP 내장객체로서 미리 선언과 초기화가 되어있기 때문에 사용이 가능한 것이다.</p>


  </article>
</div>

<!-- <div class="share-buttons">
  <h6>Share on: </h6>
  <ul>
    <li>
      <a href="https://twitter.com/intent/tweet?text=http://localhost:4000/jsp/2018/06/06/JSP.html" class="twitter btn" title="Share on Twitter"><i class="fa fa-twitter"></i><span> Twitter</span></a>
    </li>
    <li>
      <a href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:4000/jsp/2018/06/06/JSP.html" class="facebook btn" title="Share on Facebook"><i class="fa fa-facebook"></i><span> Facebook</span></a>
    </li>
    <li>
      <a href="https://plus.google.com/share?url=http://localhost:4000/jsp/2018/06/06/JSP.html" class="google-plus btn" title="Share on Google Plus"><i class="fa fa-google-plus"></i><span> Google+</span></a>
    </li>
    <li>
      <a href="https://news.ycombinator.com/submitlink?u=http://localhost:4000/jsp/2018/06/06/JSP.html" class="hacker-news btn" title="Share on Hacker News"><i class="fa fa-hacker-news"></i><span> Hacker News</span></a>
    </li>
    <li>
      <a href="https://www.reddit.com/submit?url=http://localhost:4000/jsp/2018/06/06/JSP.html" class="reddit btn" title="Share on Reddit"><i class="fa fa-reddit"></i><span> Reddit</span></a>
    </li>
  </ul>
</div> -->


<div id="disqus_thread"></div>
</div>
<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://https-youduk-github-io.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>


        <footer>
  &copy; 2018 Ducku Salon. Powered by <a href="https://jekyllrb.com/">Jekyll</a>, <a href="https://github.com/renyuanz/leonids/">customized with leonids theme</a> <i class="fa fa-heart heart-icon"></i>
</footer>

<!-- Channel Plugin Scripts -->
<script>
  ;window.channelPluginSettings = {
    "pluginKey": "9de17a11-abe2-455f-a49c-1c7da4fa312c"
  };
  (function() {
    var w = window;
    if (w.ChannelIO) {
      return (window.console.error || window.console.log || function(){})('ChannelIO script included twice.');
    }
    var d = window.document;
    var ch = function() {
      ch.c(arguments);
    };
    ch.q = [];
    ch.c = function(args) {
      ch.q.push(args);
    };
    w.ChannelIO = ch;
    function l() {
      if (w.ChannelIOInitialized) {
        return;
      }
      w.ChannelIOInitialized = true;
      var s = document.createElement('script');
      s.type = 'text/javascript';
      s.async = true;
      s.src = 'https://cdn.channel.io/plugin/ch-plugin-web.js';
      s.charset = 'UTF-8';
      var x = document.getElementsByTagName('script')[0];
      x.parentNode.insertBefore(s, x);
    }
    if (document.readyState === 'complete') {
      l();
    } else if (window.attachEvent) {
      window.attachEvent('onload', l);
    } else {
      window.addEventListener('DOMContentLoaded', l, false);
      window.addEventListener('load', l, false);
    }
  })();
</script>
<!-- End Channel Plugin -->        
      </div>
    </div>
  </div>
  <script id="dsq-count-scr" src="//https-youduk-github-io.disqus.com/count.js" async></script>
  <script type="text/javascript" src="http://localhost:4000/js/jquery-2.1.4.min.js"></script>
<script type="text/javascript" src="http://localhost:4000/js/main.js"></script>


    
</body>

</html>
